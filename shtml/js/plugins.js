// Plugins

// usage: log('inside coolFunc', this, arguments);
// paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
window.log = function(){
log.history = log.history || [];   // store logs to an array for reference
log.history.push(arguments);
arguments.callee = arguments.callee.caller; 
if(this.console) console.log( Array.prototype.slice.call(arguments) );
};

// make it safe to use console.log always
(function(b){function c(){}for(var d="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info, log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),a;a=d.pop();)b[a]=b[a]||c})(window.console=window.console||{});

// jQuery/helper plugins

/*! http://mths.be/placeholder v1.8.5 by @mathias */
(function(g,a,$){var f='placeholder' in a.createElement('input'),b='placeholder' in a.createElement('textarea');if(f&&b){$.fn.placeholder=function(){return this};$.fn.placeholder.input=$.fn.placeholder.textarea=true}else{$.fn.placeholder=function(){return this.filter((f?'textarea':':input')+'[placeholder]').bind('focus.placeholder',c).bind('blur.placeholder',e).trigger('blur.placeholder').end()};$.fn.placeholder.input=f;$.fn.placeholder.textarea=b;$(function(){$('form').bind('submit.placeholder',function(){var h=$('.placeholder',this).each(c);setTimeout(function(){h.each(e)},10)})});$(g).bind('unload.placeholder',function(){$('.placeholder').val('')})}function d(i){var h={},j=/^jQuery\d+$/;$.each(i.attributes,function(l,k){if(k.specified&&!j.test(k.name)){h[k.name]=k.value}});return h}function c(){var h=$(this);if(h.val()===h.attr('placeholder')&&h.hasClass('placeholder')){if(h.data('placeholder-password')){h.hide().next().show().focus().attr('id',h.removeAttr('id').data('placeholder-id'))}else{h.val('').removeClass('placeholder')}}}function e(){var l,k=$(this),h=k,j=this.id;if(k.val()===''){if(k.is(':password')){if(!k.data('placeholder-textinput')){try{l=k.clone().attr({type:'text'})}catch(i){l=$('<input>').attr($.extend(d(this),{type:'text'}))}l.removeAttr('name').data('placeholder-password',true).data('placeholder-id',j).bind('focus.placeholder',c);k.data('placeholder-textinput',l).data('placeholder-id',j).before(l)}k=k.removeAttr('id').hide().prev().attr('id',j).show()}k.addClass('placeholder').val(k.attr('placeholder'))}else{k.removeClass('placeholder')}}}(this,document,jQuery));
// Invoke the plugin
$('input,textarea').placeholder();

//http://heartcode.robertpataki.com/canvasloader/
(function(a){var b=function(a,b){typeof b=="undefined"&&(b={});this.init(a,b)},c=b.prototype,d,e=["canvas","vml"],f=["oval","spiral","square","rect","roundRect"],g=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,h=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8?true:false,i=!!document.createElement("canvas").getContext,j=true,k=function(a,b,c){var a=document.createElement(a),d;for(d in c)a[d]=c[d];typeof b!=="undefined"&&b.appendChild(a);return a},l=function(a,b){for(var c in b)a.style[c]=b[c];return a},m=function(a,b){for(var c in b)a.setAttribute(c,b[c]);return a},n=function(a,b,c,d){a.save();a.translate(b,c);a.rotate(d);a.translate(-b,-c);a.beginPath()};c.init=function(a,c){if(typeof c.safeVML==="boolean")j=c.safeVML;try{this.mum=document.getElementById(a)!==void 0?document.getElementById(a):document.body}catch(f){this.mum=document.body}c.id=typeof c.id!=="undefined"?c.id:"canvasLoader";this.cont=k("div",this.mum,{id:c.id});if(i)d=e[0],this.can=k("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=l(k("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{d=e[1];if(typeof b.vmlSheet==="undefined"){document.getElementsByTagName("head")[0].appendChild(k("style"));b.vmlSheet=document.styleSheets[document.styleSheets.length-1];var g=["group","oval","roundrect","fill"],h;for(h in g)b.vmlSheet.addRule(g[h],"behavior:url(#default#VML); position:absolute;")}this.vml=k("group",this.cont)}this.setColor(this.color);this.ready=true;this.draw();l(this.cont,{display:"none"})};c.cont={};c.can={};c.con={};c.cCan={};c.cCon={};c.ready=false;c.timer={};c.activeId=0;c.diameter=40;c.setDiameter=function(a){this.diameter=Math.round(Math.abs(a));this.redraw()};c.getDiameter=function(){return this.diameter};c.cRGB={};c.color="#000000";c.setColor=function(a){this.color=g.test(a)?a:"#000000";this.cRGB=this.getRGB(this.color);this.redraw()};c.getColor=function(){return this.color};c.shape=f[0];c.setShape=function(a){for(var b in f)if(a===f[b]){this.shape=a;this.redraw();break}};c.getShape=function(){return this.shape};c.density=40;c.setDensity=function(a){this.density=j&&d===e[1]?Math.round(Math.abs(a))<=40?Math.round(Math.abs(a)):40:Math.round(Math.abs(a));this.redraw()};c.getDensity=function(){return this.density};c.range=1.3;c.setRange=function(a){this.range=Math.abs(a);this.redraw()};c.getRange=function(){return this.range};c.speed=2;c.setSpeed=function(a){this.speed=Math.round(Math.abs(a));this.reset()};c.getSpeed=function(){return this.speed};c.fps=24;c.setFPS=function(a){this.fps=Math.round(Math.abs(a));this.reset()};c.getFPS=function(){return this.fps};c.getRGB=function(a){a=a.charAt(0)==="#"?a.substring(1,7):a;return{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16)}};c.draw=function(){var a=0,b,c,g,i,j,q,r,s=this.density,w=Math.round(s*this.range),x,y,z=0;y=this.cCon;var A=this.diameter;if(d===e[0]){y.clearRect(0,0,1e3,1e3);m(this.can,{width:A,height:A});for(m(this.cCan,{width:A,height:A});a<s;){x=a<=w?1-1/w*a:x=0;q=360-360/s*a;r=q/180*Math.PI;y.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+x.toString()+")";switch(this.shape){case f[0]:case f[1]:b=A*.07;i=A*.47+Math.cos(r)*(A*.47-b)-A*.47;j=A*.47+Math.sin(r)*(A*.47-b)-A*.47;y.beginPath();this.shape===f[1]?y.arc(A*.5+i,A*.5+j,b*x,0,Math.PI*2,false):y.arc(A*.5+i,A*.5+j,b,0,Math.PI*2,false);break;case f[2]:b=A*.12;i=Math.cos(r)*(A*.47-b)+A*.5;j=Math.sin(r)*(A*.47-b)+A*.5;n(y,i,j,r);y.fillRect(i,j-b*.5,b,b);break;case f[3]:case f[4]:c=A*.3,g=c*.27,i=Math.cos(r)*(g+(A-g)*.13)+A*.5,j=Math.sin(r)*(g+(A-g)*.13)+A*.5,n(y,i,j,r),this.shape===f[3]?y.fillRect(i,j-g*.5,c,g):(b=g*.55,y.moveTo(i+b,j-g*.5),y.lineTo(i+c-b,j-g*.5),y.quadraticCurveTo(i+c,j-g*.5,i+c,j-g*.5+b),y.lineTo(i+c,j-g*.5+g-b),y.quadraticCurveTo(i+c,j-g*.5+g,i+c-b,j-g*.5+g),y.lineTo(i+b,j-g*.5+g),y.quadraticCurveTo(i,j-g*.5+g,i,j-g*.5+g-b),y.lineTo(i,j-g*.5+b),y.quadraticCurveTo(i,j-g*.5,i+b,j-g*.5))}y.closePath();y.fill();y.restore();++a}}else{l(this.cont,{width:A,height:A});l(this.vml,{width:A,height:A});switch(this.shape){case f[0]:case f[1]:r="oval";b=140;break;case f[2]:r="roundrect";b=120;break;case f[3]:case f[4]:r="roundrect",b=300}c=g=b;i=500-g;for(j=-g*.5;a<s;){x=a<=w?1-1/w*a:x=0;q=270-360/s*a;switch(this.shape){case f[1]:c=g=b*x;i=500-b*.5-b*x*.5;j=(b-b*x)*.5;break;case f[0]:case f[2]:h&&(j=0,this.shape===f[2]&&(i=500-g*.5));break;case f[3]:case f[4]:c=b*.95,g=c*.28,h?(i=0,j=500-g*.5):(i=500-c,j=-g*.5),z=this.shape===f[4]?.6:0}y=m(l(k("group",this.vml),{width:1e3,height:1e3,rotation:q}),{coordsize:"1000,1000",coordorigin:"-500,-500"});y=l(k(r,y,{stroked:false,arcSize:z}),{width:c,height:g,top:j,left:i});k("fill",y,{color:this.color,opacity:x});++a}}this.tick(true)};c.clean=function(){if(d===e[0])this.con.clearRect(0,0,1e4,1e4);else{var a=this.vml;if(a.hasChildNodes())for(;a.childNodes.length>=1;)a.removeChild(a.firstChild)}};c.redraw=function(){this.ready&&(this.clean(),this.draw())};c.reset=function(){typeof this.timer==="number"&&(this.hide(),this.show())};c.tick=function(a){var b=this.density,b=b>360?b/360:360/b,c=this.con,f=this.diameter;b*=this.speed;a||(this.activeId+=b);this.activeId>=360&&(this.activeId-=360);d===e[0]?(c.clearRect(0,0,f,f),n(c,f*.5,f*.5,Math.PI/180*this.activeId),c.drawImage(this.cCan,0,0,f,f),c.restore()):l(this.vml,{rotation:this.activeId})};c.show=function(){if(typeof this.timer!=="number"){var a=this;this.timer=self.setInterval(function(){a.tick()},Math.round(1e3/this.fps));l(this.cont,{display:"block"})}};c.hide=function(){typeof this.timer==="number"&&(clearInterval(this.timer),delete this.timer,l(this.cont,{display:"none"}))};c.kill=function(){var a=this.cont;typeof this.timer==="number"&&this.hide();d===e[0]?(a.removeChild(this.can),a.removeChild(this.cCan)):a.removeChild(this.vml);for(var b in this)delete this[b]};a.CanvasLoader=b})(window);
